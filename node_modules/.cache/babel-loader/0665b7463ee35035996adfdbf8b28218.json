{"ast":null,"code":"import React,{useState}from\"react\";import{withRouter}from\"react-router-dom\";import logo from\"../Assests/Images/Logo.png\";import AuthService from\"../services/auth-service\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Navigation(props){const[nav,setNav]=useState(false);const authService=AuthService.getInstance();const changeBackround=()=>{if(window.scrollY>=50){setNav(true);}else{setNav(false);}};async function apiFunc(){const response=await fetch(\"/api/auth/logout\",{method:\"GET\",mode:\"cors\",cache:\"no-cache\",credentials:\"same-origin\",headers:new Headers({Authorization:authService.getSecureToken}),redirect:\"follow\",referrerPolicy:\"no-referrer\"}).then(response=>response.json()).then(response=>{window.location.href=\"/\";});}const logoutClicked=()=>{apiFunc();authService.logoutAndRemoveSecureToken();};window.addEventListener(\"scroll\",changeBackround);return/*#__PURE__*/_jsxs(\"nav\",{className:nav?\"nav active\":\"nav\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"/\",children:/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"InDMix\",class:\"navLogo\"})})}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"menu-btn\",id:\"menu-btn\"}),/*#__PURE__*/_jsx(\"label\",{className:\"menu-icon\",for:\"menu-btn\",children:/*#__PURE__*/_jsx(\"span\",{className:\"nav-icon\"})}),/*#__PURE__*/_jsxs(\"ul\",{className:\"menu\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"/\",className:\"active\",children:\"Home\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"/about\",children:\"About\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"https://dmixbreed.creator-spring.com/\",target:\"_blank\",rel:\"noreferrer\",children:\"Merch\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"/tracks\",children:\"Tracks\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"div\",{children:\"\\xA0 \\xA0 \\xA0\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"div\",{children:\"\\xA0 \\xA0 \\xA0\"})}),authService.hasSecureToken()?/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"/siteManagement\",children:\"Site Management\"})}):null,authService.hasSecureToken()?/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"/\",onClick:logoutClicked,children:\"Logout\"})}):null]})]});}export default withRouter(Navigation);","map":{"version":3,"sources":["/Users/luclaffin/react/src/Components/navbar.jsx"],"names":["React","useState","withRouter","logo","AuthService","Navigation","props","nav","setNav","authService","getInstance","changeBackround","window","scrollY","apiFunc","response","fetch","method","mode","cache","credentials","headers","Headers","Authorization","getSecureToken","redirect","referrerPolicy","then","json","location","href","logoutClicked","logoutAndRemoveSecureToken","addEventListener","hasSecureToken"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,IAAP,KAAiB,4BAAjB,CACA,MAAOC,CAAAA,WAAP,KAAwB,0BAAxB,C,wFAEA,QAASC,CAAAA,UAAT,CAAoBC,KAApB,CAA2B,CACzB,KAAM,CAACC,GAAD,CAAMC,MAAN,EAAgBP,QAAQ,CAAC,KAAD,CAA9B,CACA,KAAMQ,CAAAA,WAAW,CAAGL,WAAW,CAACM,WAAZ,EAApB,CAEA,KAAMC,CAAAA,eAAe,CAAG,IAAM,CAC5B,GAAIC,MAAM,CAACC,OAAP,EAAkB,EAAtB,CAA0B,CACxBL,MAAM,CAAC,IAAD,CAAN,CACD,CAFD,IAEO,CACLA,MAAM,CAAC,KAAD,CAAN,CACD,CACF,CAND,CAQA,cAAeM,CAAAA,OAAf,EAAyB,CACvB,KAAMC,CAAAA,QAAQ,CAAG,KAAMC,CAAAA,KAAK,CAAC,kBAAD,CAAqB,CAC/CC,MAAM,CAAE,KADuC,CAE/CC,IAAI,CAAE,MAFyC,CAG/CC,KAAK,CAAE,UAHwC,CAI/CC,WAAW,CAAE,aAJkC,CAK/CC,OAAO,CAAE,GAAIC,CAAAA,OAAJ,CAAY,CACnBC,aAAa,CAAEd,WAAW,CAACe,cADR,CAAZ,CALsC,CAQ/CC,QAAQ,CAAE,QARqC,CAS/CC,cAAc,CAAE,aAT+B,CAArB,CAAL,CAWpBC,IAXoB,CAWdZ,QAAD,EAAcA,QAAQ,CAACa,IAAT,EAXC,EAYpBD,IAZoB,CAYdZ,QAAD,EAAc,CAClBH,MAAM,CAACiB,QAAP,CAAgBC,IAAhB,CAAuB,GAAvB,CACD,CAdoB,CAAvB,CAeD,CAED,KAAMC,CAAAA,aAAa,CAAG,IAAM,CAC1BjB,OAAO,GACPL,WAAW,CAACuB,0BAAZ,GACD,CAHD,CAKApB,MAAM,CAACqB,gBAAP,CAAwB,QAAxB,CAAkCtB,eAAlC,EAEA,mBACE,aAAK,SAAS,CAAEJ,GAAG,CAAG,YAAH,CAAkB,KAArC,wBACE,UAAG,IAAI,CAAC,GAAR,uBACE,gCACE,YAAK,GAAG,CAAEJ,IAAV,CAAgB,GAAG,CAAC,QAApB,CAA6B,KAAK,CAAC,SAAnC,EADF,EADF,EADF,cAME,cAAO,IAAI,CAAC,UAAZ,CAAuB,SAAS,CAAC,UAAjC,CAA4C,EAAE,CAAC,UAA/C,EANF,cAOE,cAAO,SAAS,CAAC,WAAjB,CAA6B,GAAG,CAAC,UAAjC,uBACE,aAAM,SAAS,CAAC,UAAhB,EADF,EAPF,cAUE,YAAI,SAAS,CAAC,MAAd,wBACE,iCACE,UAAG,IAAI,CAAC,GAAR,CAAY,SAAS,CAAC,QAAtB,kBADF,EADF,cAME,iCACE,UAAG,IAAI,CAAC,QAAR,mBADF,EANF,cASE,iCACE,UACE,IAAI,CAAC,uCADP,CAEE,MAAM,CAAC,QAFT,CAGE,GAAG,CAAC,YAHN,mBADF,EATF,cAkBE,iCACE,UAAG,IAAI,CAAC,SAAR,oBADF,EAlBF,cAwBE,iCACE,uCADF,EAxBF,cAqCE,iCACE,uCADF,EArCF,CAwCGM,WAAW,CAACyB,cAAZ,gBACC,iCACE,UAAG,IAAI,CAAC,iBAAR,6BADF,EADD,CAIG,IA5CN,CA8CGzB,WAAW,CAACyB,cAAZ,gBACC,iCACE,UAAG,IAAI,CAAC,GAAR,CAAY,OAAO,CAAEH,aAArB,oBADF,EADD,CAMG,IApDN,GAVF,GADF,CAmED,CAED,cAAe7B,CAAAA,UAAU,CAACG,UAAD,CAAzB","sourcesContent":["import React, { useState } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport logo from \"../Assests/Images/Logo.png\";\nimport AuthService from \"../services/auth-service\";\n\nfunction Navigation(props) {\n  const [nav, setNav] = useState(false);\n  const authService = AuthService.getInstance();\n\n  const changeBackround = () => {\n    if (window.scrollY >= 50) {\n      setNav(true);\n    } else {\n      setNav(false);\n    }\n  };\n\n  async function apiFunc() {\n    const response = await fetch(\"/api/auth/logout\", {\n      method: \"GET\",\n      mode: \"cors\",\n      cache: \"no-cache\",\n      credentials: \"same-origin\",\n      headers: new Headers({\n        Authorization: authService.getSecureToken,\n      }),\n      redirect: \"follow\",\n      referrerPolicy: \"no-referrer\",\n    })\n      .then((response) => response.json())\n      .then((response) => {\n        window.location.href = \"/\";\n      });\n  }\n\n  const logoutClicked = () => {\n    apiFunc();\n    authService.logoutAndRemoveSecureToken();\n  };\n\n  window.addEventListener(\"scroll\", changeBackround);\n\n  return (\n    <nav className={nav ? \"nav active\" : \"nav\"}>\n      <a href=\"/\">\n        <p>\n          <img src={logo} alt=\"InDMix\" class=\"navLogo\" />\n        </p>\n      </a>\n      <input type=\"checkbox\" className=\"menu-btn\" id=\"menu-btn\" />\n      <label className=\"menu-icon\" for=\"menu-btn\">\n        <span className=\"nav-icon\"></span>\n      </label>\n      <ul className=\"menu\">\n        <li>\n          <a href=\"/\" className=\"active\">\n            Home\n          </a>\n        </li>\n        <li>\n          <a href=\"/about\">About</a>\n        </li>\n        <li>\n          <a\n            href=\"https://dmixbreed.creator-spring.com/\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            Merch\n          </a>\n        </li>\n        <li>\n          <a href=\"/tracks\">Tracks</a>\n        </li>\n        {/* <li>\n          <a href=\"/contact\">Contact</a>\n        </li> */}\n        <li>\n          <div>&nbsp; &nbsp; &nbsp;</div>\n        </li>\n        {/* {!authService.hasSecureToken() ? (\n          <li>\n            <a href=\"/sign-up\">Sign Up</a>\n          </li>\n        ) : null}\n        {!authService.hasSecureToken() ? (\n          <li>\n            <a href=\"/sign-in\">Sign In</a>\n          </li>\n        ) : null} */}\n        <li>\n          <div>&nbsp; &nbsp; &nbsp;</div>\n        </li>\n        {authService.hasSecureToken() ? (\n          <li>\n            <a href=\"/siteManagement\">Site Management</a>\n          </li>\n        ) : null}\n\n        {authService.hasSecureToken() ? (\n          <li>\n            <a href=\"/\" onClick={logoutClicked}>\n              Logout\n            </a>\n          </li>\n        ) : null}\n      </ul>\n    </nav>\n  );\n}\n\nexport default withRouter(Navigation);\n"]},"metadata":{},"sourceType":"module"}