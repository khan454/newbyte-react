{"ast":null,"code":"import Avatar from\"@material-ui/core/Avatar\";import Box from\"@material-ui/core/Box\";import Button from\"@material-ui/core/Button\";import Container from\"@material-ui/core/Container\";import CssBaseline from\"@material-ui/core/CssBaseline\";import Grid from\"@material-ui/core/Grid\";import{makeStyles}from\"@material-ui/core/styles\";import TextField from\"@material-ui/core/TextField\";import Typography from\"@material-ui/core/Typography\";import SwitchAccountIcon from\"@mui/icons-material/SwitchAccount\";import React from\"react\";import{NavLink}from\"react-router-dom\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";const useStyles=makeStyles(theme=>({paper:{marginTop:theme.spacing(7),display:\"flex\",flexDirection:\"column\",alignItems:\"center\"},avatar:{margin:theme.spacing(1),backgroundColor:theme.palette.primary.dark},form:{width:\"100%\",// Fix IE 11 issue.\nmarginTop:theme.spacing(3)},submit:{margin:theme.spacing(3,0,2)},textField:{marginLeft:theme.spacing(1),marginRight:theme.spacing(1),width:\"100%\"}}));export default function SignUp(){const classes=useStyles();const[firstLoad,setLoad]=React.useState(true);const[name,setName]=React.useState(\"\");const[email,setEmail]=React.useState(\"\");const[password,setPassword]=React.useState(\"\");const handleNameChange=event=>setName(event.target.value);const handleEmailChange=event=>setEmail(event.target.value);const handlePasswordChange=event=>setPassword(event.target.value);const[message,setMessage]=React.useState(\"\");async function apiFunc(toInput){const response=await fetch(\"/api/registration\",{method:\"POST\",mode:\"cors\",cache:\"no-cache\",credentials:\"same-origin\",headers:{\"Content-Type\":\"application/json\"},redirect:\"follow\",referrerPolicy:\"no-referrer\",body:JSON.stringify(toInput)});let body=await response;console.log(body);setMessage(body.ok?\"Sign up successful\":\"Sign up failed\");if(!alert(body.ok?\"Successfully sign up!\":\"Error! Failed to sign up. Please check all required fields and try again.\")){window.location.reload();}}const handleSubmit=variables=>{const toInput={name,email,password};apiFunc(toInput);setName(\"\");setEmail(\"\");setPassword(\"\");};if(firstLoad){// sampleFunc();\nsetLoad(false);}function Copyright(){return/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"textSecondary\",align:\"center\",children:[\"newByteX © \",\" \",new Date().getFullYear()]});}return/*#__PURE__*/_jsxs(Container,{component:\"main\",maxWidth:\"xs\",children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsxs(\"div\",{className:classes.paper,children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Avatar,{className:classes.avatar,children:/*#__PURE__*/_jsx(SwitchAccountIcon,{})}),/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h5\",children:\"Sign Up\"}),/*#__PURE__*/_jsxs(\"form\",{className:classes.form,noValidate:true,children:[/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",required:true,fullWidth:true,id:\"name\",value:name,label:\"Full Name\",name:\"name\",autoComplete:\"name\",helperText:\"cannot be blank\",onChange:handleNameChange})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",required:true,fullWidth:true,id:\"email\",value:email,label:\"Email\",name:\"email\",autoComplete:\"email\",onChange:handleEmailChange})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",required:true,fullWidth:true,id:\"password\",value:password,label:\"Password\",type:\"password\",name:\"password\",autoComplete:\"password\",helperText:\"minimum 8 characters\",onChange:handlePasswordChange})})]}),/*#__PURE__*/_jsx(Button// type=\"submit\"\n,{fullWidth:true,variant:\"contained\",color:\"info\",preventefault:true,className:classes.submit,onClick:handleSubmit,children:\"Sign Up\"}),/*#__PURE__*/_jsxs(Grid,{container:true,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:true}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(NavLink,{to:\"/sign-in\",children:\"Already have an account? Sign in\"})})]})]}),/*#__PURE__*/_jsxs(Typography,{style:{margin:7},variant:\"body1\",children:[\"Status: \",message]})]}),/*#__PURE__*/_jsxs(Box,{mt:8,class:\"copyrightFooter\",children:[/*#__PURE__*/_jsx(Copyright,{}),/*#__PURE__*/_jsx(\"br\",{})]})]});}","map":{"version":3,"sources":["/Users/luclaffin/react/src/Components/Authentication/signup.jsx"],"names":["Avatar","Box","Button","Container","CssBaseline","Grid","makeStyles","TextField","Typography","SwitchAccountIcon","React","NavLink","useStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","primary","dark","form","width","submit","textField","marginLeft","marginRight","SignUp","classes","firstLoad","setLoad","useState","name","setName","email","setEmail","password","setPassword","handleNameChange","event","target","value","handleEmailChange","handlePasswordChange","message","setMessage","apiFunc","toInput","response","fetch","method","mode","cache","credentials","headers","redirect","referrerPolicy","body","JSON","stringify","console","log","ok","alert","window","location","reload","handleSubmit","variables","Copyright","Date","getFullYear"],"mappings":"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","sourcesContent":["import Avatar from \"@material-ui/core/Avatar\";\nimport Box from \"@material-ui/core/Box\";\nimport Button from \"@material-ui/core/Button\";\nimport Container from \"@material-ui/core/Container\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport SwitchAccountIcon from \"@mui/icons-material/SwitchAccount\";\nimport React from \"react\";\nimport { NavLink } from \"react-router-dom\";\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(7),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.primary.dark,\n  },\n  form: {\n    width: \"100%\", // Fix IE 11 issue.\n    marginTop: theme.spacing(3),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n  textField: {\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1),\n    width: \"100%\",\n  },\n}));\n\nexport default function SignUp() {\n  const classes = useStyles();\n  const [firstLoad, setLoad] = React.useState(true);\n\n  const [name, setName] = React.useState(\"\");\n  const [email, setEmail] = React.useState(\"\");\n  const [password, setPassword] = React.useState(\"\");\n\n  const handleNameChange = (event) => setName(event.target.value);\n  const handleEmailChange = (event) => setEmail(event.target.value);\n  const handlePasswordChange = (event) => setPassword(event.target.value);\n\n  const [message, setMessage] = React.useState(\"\");\n\n  async function apiFunc(toInput) {\n    const response = await fetch(\"/api/registration\", {\n      method: \"POST\",\n      mode: \"cors\",\n      cache: \"no-cache\",\n      credentials: \"same-origin\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      redirect: \"follow\",\n      referrerPolicy: \"no-referrer\",\n      body: JSON.stringify(toInput),\n    });\n    let body = await response;\n    console.log(body);\n    setMessage(body.ok ? \"Sign up successful\" : \"Sign up failed\");\n    if (\n      !alert(\n        body.ok\n          ? \"Successfully sign up!\"\n          : \"Error! Failed to sign up. Please check all required fields and try again.\"\n      )\n    ) {\n      window.location.reload();\n    }\n  }\n\n  const handleSubmit = (variables) => {\n    const toInput = { name, email, password };\n    apiFunc(toInput);\n    setName(\"\");\n    setEmail(\"\");\n    setPassword(\"\");\n  };\n\n  if (firstLoad) {\n    // sampleFunc();\n    setLoad(false);\n  }\n\n  function Copyright() {\n    return (\n      <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n        {\"newByteX © \"} {new Date().getFullYear()}\n      </Typography>\n    );\n  }\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper}>\n        <br></br>\n        <br></br>\n        <br></br>\n        <Avatar className={classes.avatar}>\n          <SwitchAccountIcon />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Sign Up\n        </Typography>\n        <form className={classes.form} noValidate>\n          <Grid container spacing={2}>\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                id=\"name\"\n                value={name}\n                label=\"Full Name\"\n                name=\"name\"\n                autoComplete=\"name\"\n                helperText=\"cannot be blank\"\n                onChange={handleNameChange}\n              />\n            </Grid>\n\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                id=\"email\"\n                value={email}\n                label=\"Email\"\n                name=\"email\"\n                autoComplete=\"email\"\n                onChange={handleEmailChange}\n              />\n            </Grid>\n\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                id=\"password\"\n                value={password}\n                label=\"Password\"\n                type=\"password\"\n                name=\"password\"\n                autoComplete=\"password\"\n                helperText=\"minimum 8 characters\"\n                onChange={handlePasswordChange}\n              />\n            </Grid>\n          </Grid>\n          <Button\n            // type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"info\"\n            preventefault\n            className={classes.submit}\n            onClick={handleSubmit}\n          >\n            Sign Up\n          </Button>\n          <Grid container>\n            <Grid item xs></Grid>\n            <Grid item>\n              <NavLink to=\"/sign-in\">Already have an account? Sign in</NavLink>\n            </Grid>\n          </Grid>\n        </form>\n        <Typography style={{ margin: 7 }} variant=\"body1\">\n          Status: {message}\n        </Typography>\n      </div>\n      <Box mt={8} class=\"copyrightFooter\">\n        <Copyright />\n        <br></br>\n      </Box>\n    </Container>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}